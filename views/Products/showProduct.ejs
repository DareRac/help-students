<% layout('layouts/boilerplate.ejs')%>

<!-- <div class="showProduct">
  
</div> -->
<div class="d-flex justify-content-center">
  <div class="card mb-3" style="width: 18rem">
    <img src="<%= product.image %>" class="card-img-top" alt="..." />
    <div class="card-body">
      <h5 class="card-title"><%= product.title %></h5>
      <p class="card-text"><%= product.description %></p>
    </div>
    <ul class="list-group list-group-flush">
      <li class="list-group-item">Price: <%= product.price %></li>
      <li class="list-group-item">Category: <%= product.category %></li>
    </ul>
    <div class="card-body d-flex justify-content-evenly">
      <form
        action="/showProduct/<%= product._id %>?_method=DELETE"
        method="POST"
      >
        <button class="btn btn-danger">Delete</button>
      </form>
      <a
        href="/showProduct/<%= product._id %>/edit"
        class="btn btn-primary card-link"
        >Update</a
      >
    </div>
  </div>
</div>

<form action="/showProduct/<%= product._id %>/review" method="POST">
  <label for="review">Review</label>
  <textarea name="review[body]" id="review" cols="30" rows="10"></textarea>
  <label for="rating">Rating</label>
  <input type="number" name="review[rating]" id="rating" />
  <button type="submit" class="btn btn-success">Add Review</button>
</form>

<div>
  <% for(let review of product.reviews){ %>
  <div>Review: <%= review.body %> Rating: <%= review.rating %></div>

  <% } %>
</div>
